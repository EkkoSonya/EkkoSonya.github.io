"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[4865],{3671:(a,n)=>{n.A=(a,n)=>{const s=a.__vccOpts||a;for(const[a,t]of n)s[a]=t;return s}},9610:(a,n,s)=>{s.r(n),s.d(n,{comp:()=>c,data:()=>l});var t=s(7847);const e=s.p+"assets/img/14.52801630.png",p=[(0,t.Fv)('<h2 id="mybatis详解2" tabindex="-1"><a class="header-anchor" href="#mybatis详解2"><span>Mybatis详解2</span></a></h2><h3 id="指定构造方法" tabindex="-1"><a class="header-anchor" href="#指定构造方法"><span>指定构造方法</span></a></h3><p>(一般不咋用) 通过前面的学习，我们已经知道如何使用Mybatis进行各种查询操作。我们知道，<code>Mybatis</code>在执行完查询语句后，会自动将查询的结果转换为我们所需要的实体类</p><p>实际上<code>Mybatis</code>一开始会通过我们实体类<strong>默认的无参构造</strong>得到一个<strong>最初的对象</strong>，然后通过<strong>反射进行赋值</strong>，我们可以手动编写一个带调试信息的无参构造：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;????&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="data:image/png;base64,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" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>可以看到Mybatis确实调用了我们的无参构造方法来构建对象，属性则是通过反射进行赋值，这里截取部分Mybatis源代码进行演示：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//这里的object就是刚刚构造好的实体类对象，prop是要设置的值的字段信息，value就是要设置的值</span>\n<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">setBeanProperty</span><span class="token punctuation">(</span><span class="token class-name">PropertyTokenizer</span> prop<span class="token punctuation">,</span> <span class="token class-name">Object</span> object<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">try</span> <span class="token punctuation">{</span>\n    <span class="token comment">//Invoker是Mybatis内部编写一个用于反射设置对象属性值的工具</span>\n    <span class="token class-name">Invoker</span> method <span class="token operator">=</span> metaClass<span class="token punctuation">.</span><span class="token function">getSetInvoker</span><span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> params <span class="token operator">=</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">try</span> <span class="token punctuation">{</span>\n      method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//通过Invoker为传入的实体类对象赋值</span>\n    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">throw</span> <span class="token class-name">ExceptionUtil</span><span class="token punctuation">.</span><span class="token function">unwrapThrowable</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于<code>Mybatis</code>默认情况下直接通过<strong>无参构造来创建实体类对象</strong>，如果我们的类中存在其他的构造方法覆盖掉默认的无参构造，那么<code>Mybatis</code>会选择<strong>可用的构造方法</strong>来进行构造。</p><p>但是如果存在多个构造方法，<code>Mybatis</code>会出现问题：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@ToString</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n\n    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    \n    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行时出现错误：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Exception in thread &quot;main&quot; org.apache.ibatis.exceptions.PersistenceException: \n### Error querying database.  Cause: org.apache.ibatis.executor.ExecutorException: No constructor found in com.test.User matching [java.lang.Integer, java.lang.String, java.lang.Integer]\n### The error may exist in file:mappers/TestMapper.xml\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时由于类中存在多个构造方法，而<code>Mybatis</code>不知道该如何选择，那么就会告诉我们找不到合适的构造方法，要解决这种问题也很简单，我们不需要删除这些多余的构造方法，只需添加一个无参构造或是全参构造即可，注意全参构造必须与查询结果字段参数一一对应。</p><p>但是注意，<code>Mybatis</code>仅仅是使用这种方式<strong>进行对象的构建</strong>，而字段的赋值无论是什么构造方法，都会使用反射进行一次赋值：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span>   <span class="token comment">//这里我们让age在赋值时增加一次</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们会发现，就算像这样进行了修改，最终的结果依然是被赋值为数据库中的结果，也就是说构造方法在默认情况下<strong>仅仅只是用于构造一个单纯的对象罢了</strong>。</p><p>如果需要让<code>Mybatis</code>完全使用构造方法进行对象构建与赋值工作，那么我们需要在XML中手动编写配置，同样需要使用resultMap来完成：</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUserById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    select * from user where id = #{id}\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.test.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor</span><span class="token punctuation">&gt;</span></span>\n            \n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这一次我们在<code>resultMap</code>中添加<code>constructor</code>标签，表示我们的查询结果直接使用指定的构造方法来处理。接着我们需要配置一下<code>constructor</code>里面的内容，使其符合我们指定构造方法的定义，比如现在我们有一个这样的构造方法：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">&quot;同学&quot;</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>那么对应的<code>XML</code>配置编写为，使用<code>arg</code>标签来代表每一个参数，<strong>主键可以使用</strong><code>idArg</code>来表示，有助于优化性能：</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>idArg</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_int<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>String<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意参数的顺序，<strong>必须和构造方法的顺序一致</strong>，否则会导致<code>Mybatis</code>无法确认。</p><p>指定构造方法后，若此字段被填入了构造方法作为参数，将不会通过反射给字段单独赋值，<strong>而构造方法中没有传入的字段，依然会被反射赋值</strong>。</p><h3 id="接口绑定-sqlsession-getmapper-xxx-class" tabindex="-1"><a class="header-anchor" href="#接口绑定-sqlsession-getmapper-xxx-class"><span>接口绑定 <code>sqlSession.getMapper(xxx.class)</code></span></a></h3><p>之前通过创建一个映射器来将结果快速转换为实体类，但是这样可能还是不够方便，我们每次都需要去找映射器对应操作的名称，而且还要知道对应的返回类型，再通过<code>SqlSession</code>来执行对应的方法，可以用<strong>接口</strong>来简化</p><p>通过<code>namespace</code>来将各种操作绑定到一个接口上，然后使用方法的形式来表示，注意接口的参数和返回值必须正确对应，否则可能会出现问题：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">TestMapper</span> <span class="token punctuation">{</span>\n    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectStudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">Student</span> <span class="token function">selectStuById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectStusBySex</span><span class="token punctuation">(</span><span class="token class-name">String</span> sex<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着将<code>Mapper</code>文件的命名空间修改为我们的接口完整名称：</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.test.mapper.TestMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectStudent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        select * from student\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>\n    \n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectStuById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Student<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_int<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        select * from student where sid = #{sid}\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>\n    \n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectStusBySex<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        select * from student where sex = #{sex}\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里建议将对应的xml配置也放到放到同包中，作为内部资源：</p><figure><img src="'+e+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>作为内部资源后，我们需要修改一下配置文件中的<code>mapper</code>文件目录，不使用<code>url</code>而是<code>resource</code>表示是Jar内部的文件：</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com/test/mapper/TestMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在我们可以直接通过<code>SqlSession</code>获取我们编写接口的实现类，这个实现类是由<code>Mybatis</code>根据我们的配置自动生成的，不需要我们做任何事情：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtil</span><span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">TestMapper</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">TestMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//直接获取实现类</span>\n    <span class="token comment">//这里调用我们编写的接口方法</span>\n    mapper<span class="token punctuation">.</span><span class="token function">selectStudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>那肯定有人好奇，<code>TestMapper</code>明明是一个我们自己定义接口啊，<code>Mybatis</code>也不可能提前帮我们写了实现类啊，那这接口怎么就出现了一个实现类呢？</p><p>我们可以通过调用<code>getClass()</code>方法来看看实现类是个什么：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">TestMapper</span> testMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">TestMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>testMapper<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>我们发现，得到的类名称很奇怪<code>class jdk.proxy2.$Proxy4</code>，它其实是通过<strong>动态代理</strong>生成的，相当于在程序运行过程中动态生成了一个实现类，而不是预先定义好的，有关Mybatis这一部分的原理，我们放在最后一节进行讲解。</p><hr><h3 id="多参数表示" tabindex="-1"><a class="header-anchor" href="#多参数表示"><span>多参数表示</span></a></h3><ol><li>xml中参数名改为 <code>param1, param2, ...</code></li><li>用注解 <code>@param(xx)</code></li></ol><p>我们接着来看更方便的用法，有些时候，我们的查询操作可能需要不止一个参数：</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUserByIdAndAge<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.test.entity.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    select * from user where id = #{id} and age = #{age}\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一种最简单的方式就是和之前一样，我们使用一个Map作为参数，然后将这些参数添加到Map中进行传递：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">User</span> <span class="token function">selectUserByIdAndAge</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">TestMapper</span> mapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">TestMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mapper<span class="token punctuation">.</span><span class="token function">selectUserByIdAndAge</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>只不过，这样编写实在是太复杂了，要是由一种更简单的方式就好了，我们也可以直接将这两个参数定义到形参列表中：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">User</span> <span class="token function">selectUserByIdAndAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>只不过这种方式查询的话，<code>Mybatis</code>会并不能正确获取对应的参数：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>### Cause: org.apache.ibatis.binding.BindingException: Parameter &#39;id&#39; not found. Available parameters are [arg1, arg0, param1, param2]\n  at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这是因为<code>Java</code>代码编译后形参名称无法保留，导致<code>Mybatis</code>无法确定具体哪个参数交什么名字，</p><p>所以默认情况下它们将会以 <code>param</code> 加上它们在参数列表中的位置来命名，比如：<code>#{param1}、#{param2}</code>等，这里id实际上就是<code>param1</code>：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token comment">#{param1} and age = #{param2}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>当然，如果你实在需要使用对应的属性名称，我们也可以手动添加一个<code>@Param</code>注解来指定某个参数的名称：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">User</span> <span class="token function">selectUserByIdAndAge</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样<code>Mybatis</code>就可以正确识别了。</p>',60)],o={},c=(0,s(3671).A)(o,[["render",function(a,n){return(0,t.uX)(),(0,t.CE)("div",null,p)}]]),l=JSON.parse('{"path":"/code/javaweb/4-Mybatis/javaweb14.html","title":"javaweb - Mybatis4","lang":"zh-CN","frontmatter":{"title":"javaweb - Mybatis4","date":"2025-06-10T00:00:00.000Z","category":["code"],"tag":["javaweb","mybatis"],"order":-0.7486,"description":"Mybatis详解2 指定构造方法 (一般不咋用) 通过前面的学习，我们已经知道如何使用Mybatis进行各种查询操作。我们知道，Mybatis在执行完查询语句后，会自动将查询的结果转换为我们所需要的实体类 实际上Mybatis一开始会通过我们实体类默认的无参构造得到一个最初的对象，然后通过反射进行赋值，我们可以手动编写一个带调试信息的无参构造： al...","head":[["meta",{"property":"og:url","content":"http://ekkosonya.cn/code/javaweb/4-Mybatis/javaweb14.html"}],["meta",{"property":"og:site_name","content":"EkkoSonya\'s Blog"}],["meta",{"property":"og:title","content":"javaweb - Mybatis4"}],["meta",{"property":"og:description","content":"Mybatis详解2 指定构造方法 (一般不咋用) 通过前面的学习，我们已经知道如何使用Mybatis进行各种查询操作。我们知道，Mybatis在执行完查询语句后，会自动将查询的结果转换为我们所需要的实体类 实际上Mybatis一开始会通过我们实体类默认的无参构造得到一个最初的对象，然后通过反射进行赋值，我们可以手动编写一个带调试信息的无参构造： al..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-07T16:02:13.000Z"}],["meta",{"property":"article:author","content":"EkkoSonya"}],["meta",{"property":"article:tag","content":"javaweb"}],["meta",{"property":"article:tag","content":"mybatis"}],["meta",{"property":"article:published_time","content":"2025-06-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-07T16:02:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"javaweb - Mybatis4\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-06-10T00:00:00.000Z\\",\\"dateModified\\":\\"2025-07-07T16:02:13.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"EkkoSonya\\",\\"url\\":\\"http://ekkosonya.cn\\"}]}"]]},"headers":[{"level":2,"title":"Mybatis详解2","slug":"mybatis详解2","link":"#mybatis详解2","children":[{"level":3,"title":"指定构造方法","slug":"指定构造方法","link":"#指定构造方法","children":[]},{"level":3,"title":"接口绑定 sqlSession.getMapper(xxx.class)","slug":"接口绑定-sqlsession-getmapper-xxx-class","link":"#接口绑定-sqlsession-getmapper-xxx-class","children":[]},{"level":3,"title":"多参数表示","slug":"多参数表示","link":"#多参数表示","children":[]}]}],"git":{"createdTime":1751904133000,"updatedTime":1751904133000,"contributors":[{"name":"EkkoSonya","email":"ekkosonya@163.com","commits":1}]},"readingTime":{"minutes":6.54,"words":1962},"filePathRelative":"code/javaweb/4-Mybatis/javaweb14.md","localizedDate":"2025年6月10日","excerpt":"<h2>Mybatis详解2</h2>\\n<h3>指定构造方法</h3>\\n<p>(一般不咋用)\\n通过前面的学习，我们已经知道如何使用Mybatis进行各种查询操作。我们知道，<code>Mybatis</code>在执行完查询语句后，会自动将查询的结果转换为我们所需要的实体类</p>\\n<p>实际上<code>Mybatis</code>一开始会通过我们实体类<strong>默认的无参构造</strong>得到一个<strong>最初的对象</strong>，然后通过<strong>反射进行赋值</strong>，我们可以手动编写一个带调试信息的无参构造：</p>\\n<div class=\\"language-java\\" data-ext=\\"java\\" data-title=\\"java\\"><pre class=\\"language-java\\"><code><span class=\\"token keyword\\">public</span> <span class=\\"token class-name\\">User</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token class-name\\">System</span><span class=\\"token punctuation\\">.</span>out<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">println</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"????\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre></div>","autoDesc":true}')}}]);