"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[219],{3671:(s,a)=>{a.A=(s,a)=>{const l=s.__vccOpts||s;for(const[s,t]of a)l[s]=t;return l}},8170:(s,a,l)=>{l.r(a),l.d(a,{comp:()=>m,data:()=>i});var t=l(7847);const e=[(0,t.Lk)("p",null,"对于 q-value 的估计从 基于表格的 (tabular representation) 转换到 基于函数的 (function representation)",-1),(0,t.Lk)("h2",{id:"_1-引入",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_1-引入"},[(0,t.Lk)("span",null,"1. 引入")])],-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.eW)("通过使用一个函数来进行拟合 state values 或者 action values: "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"≈"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\hat{v}(s,w)\\approx v_\\pi(s)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≈"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)("， 其中"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",{mathvariant:"double-struck"},"R"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w\\in \\mathbb{R}^m")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.5782em","vertical-align":"-0.0391em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"∈"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6889em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathbb"},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6644em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"m")])])])])])])])])])]),(0,t.eW)("是参数向量。")]),(0,t.Lk)("li",null,"可以提高存储效率"),(0,t.Lk)("li",null,"提高泛化能力")],-1),(0,t.Lk)("h2",{id:"_2-alogorithm-of-state-value-estimation",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-alogorithm-of-state-value-estimation"},[(0,t.Lk)("span",null,"2. Alogorithm of state value estimation")])],-1),(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"目标"),(0,t.eW)(": 寻找一个最优的参数"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.eW)("，使得"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\hat{v}(s,w)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)("最接近真实的"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"v_\\pi(s)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(".")],-1),(0,t.Lk)("p",null,"共两步:",-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"定义目标函数"),(0,t.Lk)("li",null,"优化目标函数的算法")],-1),(0,t.Lk)("h3",{id:"_2-1-obejctive-function",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-1-obejctive-function"},[(0,t.Lk)("span",null,"2.1 Obejctive function")])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",{stretchy:"false"},"]")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," J(w)=\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w))^2] ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"[("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("分析随机变量 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"S")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"S")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.eW)(" 的 probability distribution (即对于损失函数中的 expection 需要考虑怎样对状态进行平均):")],-1),(0,t.Lk)("h4",{id:"uniform-distributon",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#uniform-distributon"},[(0,t.Lk)("span",null,"uniform distributon")])],-1),(0,t.Lk)("p",null,[(0,t.eW)("认为所有状态都是同等重要的，即各个状态的可能性为"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mfrac",null,[(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\frac{1}{|S|}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.3651em","vertical-align":"-0.52em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8451em"}},[(0,t.Lk)("span",{style:{top:"-2.655em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mord mtight"},"∣")])])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.394em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.52em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})])])])]),(0,t.eW)(" 因此这种情况下的 objective function 可以写成:")],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",{stretchy:"false"},"]"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣")])]),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"S")])]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," J(w)=\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w))^2]=\\frac{1}{|S|}\\sum_{s\\in S} (v_\\pi(s)-\\hat{v}(s,w))^2 ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"[("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},"]"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.6431em","vertical-align":"-1.3217em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3214em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mord"},"∣")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.677em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.936em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])])])])])])],-1),(0,t.Lk)("p",null,"但实际情况可能并不是所有状态的概率都是一致的，基于给定策略下，一些状态可能很少被访问，另一些则频繁被访问，因此采用这种 objective function 就不太可行。",-1),(0,t.Lk)("h4",{id:"stationary-distribution",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#stationary-distribution"},[(0,t.Lk)("span",null,"stationary distribution")])],-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"stationary: 表示是一种长时间的交互行为"),(0,t.Lk)("li",null,"distributon: 表示是 状态 的分布"),(0,t.Lk)("li",null,"通常也称为 steady-state distributon or limiting distributon.")],-1),(0,t.Lk)("p",null,"describes the long-run behavior of a Markov process. 即基于一个策略，我们不断地与环境进行交互，最终会达到一个平稳的状态，此时可以分析每一个状态在这个策略下的概率。",-1),(0,t.Lk)("p",null,[(0,t.eW)("设 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mo",{stretchy:"false"},"{"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mo",{stretchy:"false"},"}"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"S")])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\{d_\\pi(s)\\}_{s\\in S}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mopen"},"{"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},"}"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1774em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 表示 基于策略 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.eW)(" 下的 stationary distribution。其中 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"≥"),(0,t.Lk)("mn",null,"0")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"d_\\pi(s)\\ge 0")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≥"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6444em"}}),(0,t.Lk)("span",{class:"mord"},"0")])])]),(0,t.eW)(" 且 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"S")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\sum_{s\\in S}d_\\pi(s)=1")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0771em","vertical-align":"-0.3271em"}}),(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1786em"}},[(0,t.Lk)("span",{style:{top:"-2.4003em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3271em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6444em"}}),(0,t.Lk)("span",{class:"mord"},"1")])])])],-1),(0,t.Lk)("p",null,"那么此时的 objective function 可以表示为：",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",{stretchy:"false"},"]"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"S")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," J(w)=\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w))^2]=\\sum_{s\\in S}d_\\pi(s)(v_\\pi(s)-\\hat{v}(s,w))^2 ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"[("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},"]"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.3717em","vertical-align":"-1.3217em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])])])])])])],-1),(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:"http://myimg.ekkosonya.cn/20240820181406.png",alt:"20240820181406",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption",null,"20240820181406")],-1),(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:"http://myimg.ekkosonya.cn/20240820181718.png",alt:"20240820181718",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption",null,"20240820181718")],-1),(0,t.Lk)("h3",{id:"_2-2-optimization-algorithms-优化算法",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-2-optimization-algorithms-优化算法"},[(0,t.Lk)("span",null,"2.2 Optimization algorithms 优化算法")])],-1),(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,[(0,t.eW)("目前的优化算法只是在估计给定策略的 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mi",null,"e"),(0,t.Lk)("mtext",null," "),(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"u"),(0,t.Lk)("mi",null,"e")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"state \\space value")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6944em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mord mathnormal"},"t"),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord mathnormal"},"t"),(0,t.Lk)("span",{class:"mord mathnormal"},"e"),(0,t.Lk)("span",{class:"mspace"}," "),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal"},"u"),(0,t.Lk)("span",{class:"mord mathnormal"},"e")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("minisize obejctive function "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"J(w)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(", 采用 梯度下降 算法:")],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"k"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"α"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," w_{k+1}=w_k-\\alpha_k \\triangledown_w J(w_k) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0037em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),(0,t.Lk)("p",null,"对应目标函数的真实梯度是：",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mi",null,"j"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mn",null,"2"),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\begin{aligned} \\triangledown_w j(w) & =\\triangledown_w \\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w))^2] \\\\ & =\\mathbb{E}[\\triangledown_w(v_\\pi(S)-\\hat{v}(S,w))^2] \\\\ & =-2\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w))\\triangledown_w \\hat{v}(S,w)] \\end{aligned} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"4.5482em","vertical-align":"-2.0241em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mtable"},[(0,t.Lk)("span",{class:"col-align-r"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.5241em"}},[(0,t.Lk)("span",{style:{top:"-4.66em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-3.1359em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"})]),(0,t.Lk)("span",{style:{top:"-1.6359em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"})])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.0241em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.5241em"}},[(0,t.Lk)("span",{style:{top:"-4.66em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"[("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])]),(0,t.Lk)("span",{style:{top:"-3.1359em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])]),(0,t.Lk)("span",{style:{top:"-1.6359em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},"−"),(0,t.Lk)("span",{class:"mord"},"2"),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"[("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},"))"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")]")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.0241em"}},[(0,t.Lk)("span")])])])])])])])])])])],-1),(0,t.Lk)("p",null,"这里包含了一个 Expection，因此可以考虑 SGD 方法进行求解：",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"k"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"α"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," w_{k+1}=w_k+\\alpha_k(v_\\pi(s_t)-\\hat{v}(s_t,w_t))\\triangledown_w \\hat{v_t}(s_t,w_t) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0037em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"))"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.25em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("其中"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"s_t")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)("是随机变量"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"S")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"S")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.eW)("的一个样本。"),(0,t.Lk)("br"),(0,t.eW)(" 但这里还有一个难点，"),(0,t.Lk)("strong",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"v_\\pi(s_t)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(" 我们是无法估计的")]),(0,t.eW)("，这是我们所求的量，因此需要用近似算法来进行替代，从而使得算法可行。")],-1),(0,t.Lk)("h4",{id:"monte-carlo-learning-with-function-approximation",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#monte-carlo-learning-with-function-approximation"},[(0,t.Lk)("span",null,"Monte Carlo learning with function approximation")])],-1),(0,t.Lk)("p",null,[(0,t.eW)("设 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"t")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"g_t")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 表示在一个 episode 中，从状态 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"s_t")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 出发的 discounted return。因此我们用 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"t")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"g_t")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 来近似 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"v_\\pi(s_t)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(", 即：")],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"k"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"α"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"g"),(0,t.Lk)("mi",null,"t")])]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," w_{k+1}=w_k+\\alpha_k(\\textcolor{red}{g_t}-\\hat{v}(s_t,w_t))\\triangledown_w \\hat{v_t}(s_t,w_t) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0037em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"g"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"))"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.25em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),(0,t.Lk)("h4",{id:"td-learning-with-function-approximation",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#td-learning-with-function-approximation"},[(0,t.Lk)("span",null,"TD Learning with function approximation")])],-1),(0,t.Lk)("p",null,[(0,t.eW)("在 TD 算法中，我们将 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"r_{t+1}+\\gamma \\hat{v}(s_{t+1},w_t)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7917em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em"}},"γ"),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(" 来近似 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"v_\\pi(s_t)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(", 因此对应算法为：")],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"k"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"α"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," w_{k+1}=w_k+\\alpha_k(\\textcolor{red}{r_{t+1}+\\gamma \\hat{v}(s_{t+1},w_t)}-\\hat{v}(s_t,w_t))\\triangledown_w \\hat{v_t}(s_t,w_t) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0037em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em",color:"red"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t"),(0,t.Lk)("span",{class:"mbin mtight",style:{color:"red"}},"+"),(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin",style:{color:"red"}},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em",color:"red"}},"γ"),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t"),(0,t.Lk)("span",{class:"mbin mtight",style:{color:"red"}},"+"),(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"))"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.25em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),(0,t.Lk)("h2",{id:"_3-sarsa-with-function-approximation",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_3-sarsa-with-function-approximation"},[(0,t.Lk)("span",null,"3. Sarsa with function approximation")])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"k"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"α"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," w_{k+1}=w_k+\\alpha_k(r_{t+1}+\\gamma \\textcolor{red}{\\hat{q}(s_{t+1},a_{t+1},w_t)}-\\textcolor{red}{\\hat{q}(s_t,a_t,w_t)})\\triangledown_w \\textcolor{red}{\\hat{q_t}(s_t,a_t,w_t)} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0037em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em"}},"γ"),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t"),(0,t.Lk)("span",{class:"mbin mtight",style:{color:"red"}},"+"),(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t"),(0,t.Lk)("span",{class:"mbin mtight",style:{color:"red"}},"+"),(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.25em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")")])])])])],-1),(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:"http://myimg.ekkosonya.cn/20240820184127.png",alt:"20240820184127",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption",null,"20240820184127")],-1),(0,t.Lk)("h2",{id:"_4-q-learning-with-function-approximation",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_4-q-learning-with-function-approximation"},[(0,t.Lk)("span",null,"4. Q-learning with function approximation")])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"k"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"α"),(0,t.Lk)("mi",null,"k")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("munder",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"max"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," w_{k+1}=w_k+\\alpha_k(r_{t+1}+\\gamma \\textcolor{red}{\\max_{a\\in \\mathcal{A}(s_{t+1})}\\hat{q}(s_{t+1},a_{t+1},w_t)} -\\textcolor{red}{\\hat{q}(s_t,a_t,w_t)}) \\triangledown_w \\textcolor{red}{\\hat{q_t}(s_t,a_t,w_t)} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0037em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.716em","vertical-align":"-0.966em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em"}},"γ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.4306em"}},[(0,t.Lk)("span",{style:{top:"-2.309em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"mrel mtight",style:{color:"red"}},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight",style:{color:"red"}},"A"),(0,t.Lk)("span",{class:"mopen mtight",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3173em"}},[(0,t.Lk)("span",{style:{top:"-2.357em","margin-left":"0em","margin-right":"0.0714em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.5em"}}),(0,t.Lk)("span",{class:"sizing reset-size3 size1 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t"),(0,t.Lk)("span",{class:"mbin mtight",style:{color:"red"}},"+"),(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2025em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose mtight",style:{color:"red"}},")")])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop",style:{color:"red"}},[(0,t.Lk)("span",{style:{color:"red"}},"m"),(0,t.Lk)("span",{style:{color:"red"}},"a"),(0,t.Lk)("span",{style:{color:"red"}},"x")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.966em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t"),(0,t.Lk)("span",{class:"mbin mtight",style:{color:"red"}},"+"),(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t"),(0,t.Lk)("span",{class:"mbin mtight",style:{color:"red"}},"+"),(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.25em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"red"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")")])])])])],-1),(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"on-policy"),(0,t.eW)("版本：")],-1),(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:"http://myimg.ekkosonya.cn/20240820184405.png",alt:"20240820184405",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption",null,"20240820184405")],-1),(0,t.Lk)("h2",{id:"_5-deep-q-learning-dqn",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_5-deep-q-learning-dqn"},[(0,t.Lk)("span",null,"5. Deep Q-learning (DQN)")])],-1),(0,t.Lk)("p",null,"Deep Q-learning 目的是最小化目标函数(objective/loss function):",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("munder",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"max"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",{stretchy:"false"},"]")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," J(w)=\\mathbb{E}[(R+\\gamma \\max_{a \\in \\mathcal{A}(S')} \\hat{q}(S',a,w)-\\hat{q}(S,A,w))^2] ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"[("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.7679em","vertical-align":"-0.966em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em"}},"γ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.4306em"}},[(0,t.Lk)("span",{style:{top:"-2.309em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight"},"A"),(0,t.Lk)("span",{class:"mopen mtight"},"("),(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6828em"}},[(0,t.Lk)("span",{style:{top:"-2.786em","margin-right":"0.0714em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.5em"}}),(0,t.Lk)("span",{class:"sizing reset-size3 size1 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mclose mtight"},")")])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop"},"max")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.966em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8019em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"A"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("其中 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"(S,A,R,S')")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0019em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"A"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7519em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(" 均是随机变量。")],-1),(0,t.Lk)("h3",{id:"优化方法",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#优化方法"},[(0,t.Lk)("span",null,"优化方法")])],-1),(0,t.Lk)("p",null,"采用梯度下降。",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("munder",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"max"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",{stretchy:"false"},"]")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," J(w)=\\mathbb{E}[( \\textcolor{blue}{ R+\\gamma \\max_{a \\in \\mathcal{A}(S')} \\hat{q}(S',a,w) } - \\textcolor{red}{\\hat{q}(S,A,w)})^2] ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"[("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em",color:"blue"}},"R"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin",style:{color:"blue"}},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.7679em","vertical-align":"-0.966em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em",color:"blue"}},"γ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits",style:{color:"blue"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.4306em"}},[(0,t.Lk)("span",{style:{top:"-2.309em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mrel mtight",style:{color:"blue"}},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight",style:{color:"blue"}},"A"),(0,t.Lk)("span",{class:"mopen mtight",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6828em"}},[(0,t.Lk)("span",{style:{top:"-2.786em","margin-right":"0.0714em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.5em"}}),(0,t.Lk)("span",{class:"sizing reset-size3 size1 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mclose mtight",style:{color:"blue"}},")")])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop",style:{color:"blue"}},[(0,t.Lk)("span",{style:{color:"blue"}},"m"),(0,t.Lk)("span",{style:{color:"blue"}},"a"),(0,t.Lk)("span",{style:{color:"blue"}},"x")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.966em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"blue"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8019em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"blue"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"red"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"A"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("对于 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\textcolor{red}{\\hat{q}(S,A,w)}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"red"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"A"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")")])])]),(0,t.eW)(" 求解梯度还是很好求的。"),(0,t.Lk)("br"),(0,t.eW)(" 但对于 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"max"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\textcolor{blue}{ \\max_{a \\in \\mathcal{A}(S')} \\hat{q}(S',a,w) }")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1071em","vertical-align":"-0.3552em"}}),(0,t.Lk)("span",{class:"mop",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mop",style:{color:"blue"}},[(0,t.Lk)("span",{style:{color:"blue"}},"m"),(0,t.Lk)("span",{style:{color:"blue"}},"a"),(0,t.Lk)("span",{style:{color:"blue"}},"x")]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3448em"}},[(0,t.Lk)("span",{style:{top:"-2.5198em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mrel mtight",style:{color:"blue"}},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight",style:{color:"blue"}},"A"),(0,t.Lk)("span",{class:"mopen mtight",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6828em"}},[(0,t.Lk)("span",{style:{top:"-2.786em","margin-right":"0.0714em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.5em"}}),(0,t.Lk)("span",{class:"sizing reset-size3 size1 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mclose mtight",style:{color:"blue"}},")")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3552em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"blue"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7519em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"blue"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")")])])]),(0,t.eW)(" 其求解梯度比较难求，在 DQN 中采用一个 固定 的方法进行解决。"),(0,t.Lk)("br"),(0,t.eW)(" 尝试将 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"y"),(0,t.Lk)("mo",null,"≐"),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("msub",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"max"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"y \\doteq \\textcolor{blue}{ R+\\gamma \\max_{a \\in \\mathcal{A}(S')} \\hat{q}(S',a,w) }")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8674em","vertical-align":"-0.1944em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≐"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7667em","vertical-align":"-0.0833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em",color:"blue"}},"R"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin",style:{color:"blue"}},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1071em","vertical-align":"-0.3552em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em",color:"blue"}},"γ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mop",style:{color:"blue"}},[(0,t.Lk)("span",{style:{color:"blue"}},"m"),(0,t.Lk)("span",{style:{color:"blue"}},"a"),(0,t.Lk)("span",{style:{color:"blue"}},"x")]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3448em"}},[(0,t.Lk)("span",{style:{top:"-2.5198em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mrel mtight",style:{color:"blue"}},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight",style:{color:"blue"}},"A"),(0,t.Lk)("span",{class:"mopen mtight",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6828em"}},[(0,t.Lk)("span",{style:{top:"-2.786em","margin-right":"0.0714em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.5em"}}),(0,t.Lk)("span",{class:"sizing reset-size3 size1 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mclose mtight",style:{color:"blue"}},")")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3552em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"blue"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7519em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"blue"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")")])])]),(0,t.eW)(" 中的 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.eW)(" 进行固定求解，具体如下：")],-1),(0,t.Lk)("p",null,"引入两个网络：",-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.eW)("main network "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\hat{q}(s,a,w)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.Lk)("br"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.eW)(" 会一直进行更新，根据梯度下降的公式。")])]),(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.eW)("target network "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\hat{q}(s',a,w_T)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0019em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7519em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.Lk)("br"),(0,t.eW)(" 并不是一直进行更新，而是等 main network 更新一定次数后，将该网络的 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.eW)(" 复制到 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w_T")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 中")])])],-1),(0,t.Lk)("p",null,"将 objective function 修改为：",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("munder",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"max"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("msup",null,[(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mn",null,"2")]),(0,t.Lk)("mo",{stretchy:"false"},"]")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," J(w)=\\mathbb{E}[( R+\\gamma \\max_{a \\in \\mathcal{A}(S')}\\textcolor{blue}{ \\hat{q}(S',a,w_T) } - \\textcolor{red}{\\hat{q}(S,A,w)})^2] ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"[("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.7679em","vertical-align":"-0.966em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em"}},"γ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.4306em"}},[(0,t.Lk)("span",{style:{top:"-2.309em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight"},"A"),(0,t.Lk)("span",{class:"mopen mtight"},"("),(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6828em"}},[(0,t.Lk)("span",{style:{top:"-2.786em","margin-right":"0.0714em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.5em"}}),(0,t.Lk)("span",{class:"sizing reset-size3 size1 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mclose mtight"},")")])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop"},"max")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.966em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"blue"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8019em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"blue"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em",color:"blue"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1141em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"red"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"A"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mclose"},[(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8641em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"2")])])])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("在计算 main network "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\hat{q}(s,a,w)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(" 的梯度时，将 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\textcolor{blue}{ \\hat{q}(S',a,w_T)}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0019em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"blue"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7519em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"blue"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em",color:"blue"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")")])])]),(0,t.eW)(" 中的 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w_T")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 固定不动，因此左侧那个类似 TD target 的就不是有关 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.eW)(" 的函数，不用进行求导，从而方便计算。"),(0,t.Lk)("br"),(0,t.eW)(" 然后在更新了一定次数之后，在将 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w_T=w")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.eW)(" 进行赋值。")],-1),(0,t.Lk)("p",null,"因此对应的损失函数的梯度可以修改为：",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mi",null,"J")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mn",null,"2"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("munder",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"max"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mn",null,"2"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"Y"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\begin{aligned} \\triangledown_w J & = \\mathbb{E}[-2(R+\\gamma \\max_{a\\in \\mathcal{A}(S')}\\textcolor{red}{\\hat{q}(S',a,w_T)} - \\textcolor{blue}{\\hat{q}(S,A,w)})\\textcolor{blue}{\\triangledown_w \\hat{q}(S,A,w)}] \\\\ & = \\mathbb{E}[-2(Y_T - \\hat{q}(S,A,w))\\triangledown_w \\hat{q}(S,A,w)] \\end{aligned} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"3.606em","vertical-align":"-1.553em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mtable"},[(0,t.Lk)("span",{class:"col-align-r"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.053em"}},[(0,t.Lk)("span",{style:{top:"-4.213em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J")])]),(0,t.Lk)("span",{style:{top:"-2.107em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"})])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.553em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.053em"}},[(0,t.Lk)("span",{style:{top:"-4.213em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord"},"−"),(0,t.Lk)("span",{class:"mord"},"2"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em"}},"γ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.4306em"}},[(0,t.Lk)("span",{style:{top:"-2.309em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight"},"A"),(0,t.Lk)("span",{class:"mopen mtight"},"("),(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6828em"}},[(0,t.Lk)("span",{style:{top:"-2.786em","margin-right":"0.0714em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.5em"}}),(0,t.Lk)("span",{class:"sizing reset-size3 size1 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mclose mtight"},")")])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop"},"max")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.966em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"red"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8019em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em",color:"red"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"blue"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"A"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"blue"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord amsrm",style:{color:"blue"}},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em",color:"blue"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent",style:{color:"blue"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"A"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"blue"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")"),(0,t.Lk)("span",{class:"mclose"},"]")])]),(0,t.Lk)("span",{style:{top:"-2.107em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord"},"−"),(0,t.Lk)("span",{class:"mord"},"2"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"Y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"A"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},"))"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"A"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"mclose"},")]")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.553em"}},[(0,t.Lk)("span")])])])])])])])])])])],-1),(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"一些细节"),(0,t.eW)(":")],-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.eW)(" 和 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"w_T")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 表示 the main and target networks 的参数，在初始化的时候是设为相同的。")]),(0,t.Lk)("li",null,"在每一次迭代时，我们需要从经验池 (the replay buffer) 中取出一定数量的样本 (a mini-batch of samples {(s,a,r,s')}) 进行训练。"),(0,t.Lk)("li",null,[(0,t.eW)("网络的输入包括 状态 s 和 动作 a. 在训练求解梯度时，我们先直接求解 target network 的输出，视为 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"y"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",null,"≐"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("msub",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"max"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"y_T \\doteq r+\\gamma \\max_{a\\in\\mathcal{A}(s')}\\textcolor{red}{\\hat{q}(s',a,w_T)}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8674em","vertical-align":"-0.1944em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≐"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6667em","vertical-align":"-0.0833em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.1071em","vertical-align":"-0.3552em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em"}},"γ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop"},"max"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3448em"}},[(0,t.Lk)("span",{style:{top:"-2.5198em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight"},"A"),(0,t.Lk)("span",{class:"mopen mtight"},"("),(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6828em"}},[(0,t.Lk)("span",{style:{top:"-2.786em","margin-right":"0.0714em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.5em"}}),(0,t.Lk)("span",{class:"sizing reset-size3 size1 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mclose mtight"},")")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3552em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7519em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"red"}},"′")])])])])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em",color:"red"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")")])])]),(0,t.eW)("。"),(0,t.Lk)("br"),(0,t.eW)(" 然后我们通过 mini-batch 样本 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mo",{stretchy:"false"},"{"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"y"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"}")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\{(s,a,y_T)\\}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mopen"},"{("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")}")])])]),(0,t.eW)(", 通过梯度的算法来最小化对应的损失函数为 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"y"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\textcolor{red}{y_T-\\hat{q}(s,a,w)}")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7778em","vertical-align":"-0.1944em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em",color:"red"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin",style:{color:"red"}},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent",style:{color:"red"}},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"s"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"a"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em",color:"red"}},"w"),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")")])])]),(0,t.eW)("。"),(0,t.Lk)("br"),(0,t.eW)(" 即可以通过梯度下降："),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"α"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mi",null,"N")]),(0,t.Lk)("munderover",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"i"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mi",null,"N")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"y"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("mo",null,"−"),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"⋅"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"w")]),(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mo",null,"^")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"i")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"w"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," w_{t+1} = w_t + \\alpha_t \\frac{1}{N}\\sum_{i=1}^{N} (y_T-\\hat{q}(s_i,a_i,w_t)) \\cdot \\triangledown_w \\hat{q}(s_i,a_i,w_t) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7333em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"3.106em","vertical-align":"-1.2777em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0037em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3214em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.677em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.686em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.8283em"}},[(0,t.Lk)("span",{style:{top:"-1.8723em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i"),(0,t.Lk)("span",{class:"mrel mtight"},"="),(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])]),(0,t.Lk)("span",{style:{top:"-4.3em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.10903em"}},"N")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.2777em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3283em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"−"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"))"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"⋅"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02691em"}},"w")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1667em"}},[(0,t.Lk)("span",{class:"mord"},"^")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1944em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3117em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"i")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])])])],-1),(0,t.Fv)('<h3 id="经验回放-replay-buffer" tabindex="-1"><a class="header-anchor" href="#经验回放-replay-buffer"><span>经验回放 (replay buffer)</span></a></h3><figure><img src="http://myimg.ekkosonya.cn/20240820230827.png" alt="20240820230827" tabindex="0" loading="lazy"><figcaption>20240820230827</figcaption></figure><figure><img src="http://myimg.ekkosonya.cn/20240820230920.png" alt="20240820230920" tabindex="0" loading="lazy"><figcaption>20240820230920</figcaption></figure><figure><img src="http://myimg.ekkosonya.cn/20240820230944.png" alt="20240820230944" tabindex="0" loading="lazy"><figcaption>20240820230944</figcaption></figure><h3 id="伪代码" tabindex="-1"><a class="header-anchor" href="#伪代码"><span>伪代码</span></a></h3><figure><img src="http://myimg.ekkosonya.cn/20240820231024.png" alt="20240820231024" tabindex="0" loading="lazy"><figcaption>20240820231024</figcaption></figure><p>但在发表 DQN 的文章中，不太一样，在原文是 on-policy 且 main network 的输出是不一样的。</p><figure><img src="http://myimg.ekkosonya.cn/20240820231205.png" alt="20240820231205" tabindex="0" loading="lazy"><figcaption>20240820231205</figcaption></figure>',8)],n={},m=(0,l(3671).A)(n,[["render",function(s,a){return(0,t.uX)(),(0,t.CE)("div",null,e)}]]),i=JSON.parse('{"path":"/academic/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/chapter%208.html","title":"RL8 - 值函数近似(Value Function Approximation)","lang":"zh-CN","frontmatter":{"title":"RL8 - 值函数近似(Value Function Approximation)","date":"2024-08-20T00:00:00.000Z","category":["academic"],"tag":["强化学习"],"order":-0.5,"description":"对于 q-value 的估计从 基于表格的 (tabular representation) 转换到 基于函数的 (function representation) 1. 引入 通过使用一个函数来进行拟合 state values 或者 action values: v^(s,w)≈vπ​(s)， 其中w∈Rm是参数向量。 可以提高存储效率 提高泛化能...","head":[["meta",{"property":"og:url","content":"http://ekkosonya.cn/academic/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/chapter%208.html"}],["meta",{"property":"og:site_name","content":"EkkoSonya\'s Blog"}],["meta",{"property":"og:title","content":"RL8 - 值函数近似(Value Function Approximation)"}],["meta",{"property":"og:description","content":"对于 q-value 的估计从 基于表格的 (tabular representation) 转换到 基于函数的 (function representation) 1. 引入 通过使用一个函数来进行拟合 state values 或者 action values: v^(s,w)≈vπ​(s)， 其中w∈Rm是参数向量。 可以提高存储效率 提高泛化能..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"http://myimg.ekkosonya.cn/20240820181406.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-20T15:12:44.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"RL8 - 值函数近似(Value Function Approximation)"}],["meta",{"property":"article:author","content":"EkkoSonya"}],["meta",{"property":"article:tag","content":"强化学习"}],["meta",{"property":"article:published_time","content":"2024-08-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-20T15:12:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"RL8 - 值函数近似(Value Function Approximation)\\",\\"image\\":[\\"http://myimg.ekkosonya.cn/20240820181406.png\\",\\"http://myimg.ekkosonya.cn/20240820181718.png\\",\\"http://myimg.ekkosonya.cn/20240820184127.png\\",\\"http://myimg.ekkosonya.cn/20240820184405.png\\",\\"http://myimg.ekkosonya.cn/20240820230827.png\\",\\"http://myimg.ekkosonya.cn/20240820230920.png\\",\\"http://myimg.ekkosonya.cn/20240820230944.png\\",\\"http://myimg.ekkosonya.cn/20240820231024.png\\",\\"http://myimg.ekkosonya.cn/20240820231205.png\\"],\\"datePublished\\":\\"2024-08-20T00:00:00.000Z\\",\\"dateModified\\":\\"2024-08-20T15:12:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"EkkoSonya\\",\\"url\\":\\"http://ekkosonya.cn\\"}]}"]]},"headers":[{"level":2,"title":"1. 引入","slug":"_1-引入","link":"#_1-引入","children":[]},{"level":2,"title":"2. Alogorithm of state value estimation","slug":"_2-alogorithm-of-state-value-estimation","link":"#_2-alogorithm-of-state-value-estimation","children":[{"level":3,"title":"2.1 Obejctive function","slug":"_2-1-obejctive-function","link":"#_2-1-obejctive-function","children":[]},{"level":3,"title":"2.2 Optimization algorithms 优化算法","slug":"_2-2-optimization-algorithms-优化算法","link":"#_2-2-optimization-algorithms-优化算法","children":[]}]},{"level":2,"title":"3. Sarsa with function approximation","slug":"_3-sarsa-with-function-approximation","link":"#_3-sarsa-with-function-approximation","children":[]},{"level":2,"title":"4. Q-learning with function approximation","slug":"_4-q-learning-with-function-approximation","link":"#_4-q-learning-with-function-approximation","children":[]},{"level":2,"title":"5. Deep Q-learning (DQN)","slug":"_5-deep-q-learning-dqn","link":"#_5-deep-q-learning-dqn","children":[{"level":3,"title":"优化方法","slug":"优化方法","link":"#优化方法","children":[]},{"level":3,"title":"经验回放 (replay buffer)","slug":"经验回放-replay-buffer","link":"#经验回放-replay-buffer","children":[]},{"level":3,"title":"伪代码","slug":"伪代码","link":"#伪代码","children":[]}]}],"git":{"createdTime":1723976742000,"updatedTime":1724166764000,"contributors":[{"name":"EkkoSonya","email":"ekkosonya@163.com","commits":2}]},"readingTime":{"minutes":5.41,"words":1623},"filePathRelative":"academic/强化学习/chapter 8.md","localizedDate":"2024年8月20日","excerpt":"<p>对于 q-value 的估计从 基于表格的 (tabular representation) 转换到 基于函数的 (function representation)</p>\\n<h2>1. 引入</h2>\\n<ul>\\n<li>通过使用一个函数来进行拟合 state values 或者 action values: <span v-pre=\\"\\" class=\\"katex\\"><span class=\\"katex-mathml\\"><math xmlns=\\"http://www.w3.org/1998/Math/MathML\\"><semantics><mrow><mover accent=\\"true\\"><mi>v</mi><mo>^</mo></mover><mo stretchy=\\"false\\">(</mo><mi>s</mi><mo separator=\\"true\\">,</mo><mi>w</mi><mo stretchy=\\"false\\">)</mo><mo>≈</mo><msub><mi>v</mi><mi>π</mi></msub><mo stretchy=\\"false\\">(</mo><mi>s</mi><mo stretchy=\\"false\\">)</mo></mrow><annotation encoding=\\"application/x-tex\\">\\\\hat{v}(s,w)\\\\approx v_\\\\pi(s)</annotation></semantics></math></span><span class=\\"katex-html\\" aria-hidden=\\"true\\"><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:1em;vertical-align:-0.25em;\\"></span><span class=\\"mord accent\\"><span class=\\"vlist-t\\"><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:0.6944em;\\"><span style=\\"top:-3em;\\"><span class=\\"pstrut\\" style=\\"height:3em;\\"></span><span class=\\"mord mathnormal\\" style=\\"margin-right:0.03588em;\\">v</span></span><span style=\\"top:-3em;\\"><span class=\\"pstrut\\" style=\\"height:3em;\\"></span><span class=\\"accent-body\\" style=\\"left:-0.2222em;\\"><span class=\\"mord\\">^</span></span></span></span></span></span></span><span class=\\"mopen\\">(</span><span class=\\"mord mathnormal\\">s</span><span class=\\"mpunct\\">,</span><span class=\\"mspace\\" style=\\"margin-right:0.1667em;\\"></span><span class=\\"mord mathnormal\\" style=\\"margin-right:0.02691em;\\">w</span><span class=\\"mclose\\">)</span><span class=\\"mspace\\" style=\\"margin-right:0.2778em;\\"></span><span class=\\"mrel\\">≈</span><span class=\\"mspace\\" style=\\"margin-right:0.2778em;\\"></span></span><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:1em;vertical-align:-0.25em;\\"></span><span class=\\"mord\\"><span class=\\"mord mathnormal\\" style=\\"margin-right:0.03588em;\\">v</span><span class=\\"msupsub\\"><span class=\\"vlist-t vlist-t2\\"><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:0.1514em;\\"><span style=\\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\\"><span class=\\"pstrut\\" style=\\"height:2.7em;\\"></span><span class=\\"sizing reset-size6 size3 mtight\\"><span class=\\"mord mathnormal mtight\\" style=\\"margin-right:0.03588em;\\">π</span></span></span></span><span class=\\"vlist-s\\">​</span></span><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:0.15em;\\"><span></span></span></span></span></span></span><span class=\\"mopen\\">(</span><span class=\\"mord mathnormal\\">s</span><span class=\\"mclose\\">)</span></span></span></span>， 其中<span v-pre=\\"\\" class=\\"katex\\"><span class=\\"katex-mathml\\"><math xmlns=\\"http://www.w3.org/1998/Math/MathML\\"><semantics><mrow><mi>w</mi><mo>∈</mo><msup><mi mathvariant=\\"double-struck\\">R</mi><mi>m</mi></msup></mrow><annotation encoding=\\"application/x-tex\\">w\\\\in \\\\mathbb{R}^m</annotation></semantics></math></span><span class=\\"katex-html\\" aria-hidden=\\"true\\"><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:0.5782em;vertical-align:-0.0391em;\\"></span><span class=\\"mord mathnormal\\" style=\\"margin-right:0.02691em;\\">w</span><span class=\\"mspace\\" style=\\"margin-right:0.2778em;\\"></span><span class=\\"mrel\\">∈</span><span class=\\"mspace\\" style=\\"margin-right:0.2778em;\\"></span></span><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:0.6889em;\\"></span><span class=\\"mord\\"><span class=\\"mord mathbb\\">R</span><span class=\\"msupsub\\"><span class=\\"vlist-t\\"><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:0.6644em;\\"><span style=\\"top:-3.063em;margin-right:0.05em;\\"><span class=\\"pstrut\\" style=\\"height:2.7em;\\"></span><span class=\\"sizing reset-size6 size3 mtight\\"><span class=\\"mord mathnormal mtight\\">m</span></span></span></span></span></span></span></span></span></span></span>是参数向量。</li>\\n<li>可以提高存储效率</li>\\n<li>提高泛化能力</li>\\n</ul>","autoDesc":true}')}}]);