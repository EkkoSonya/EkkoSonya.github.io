"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[6516],{3671:(s,a)=>{a.A=(s,a)=>{const l=s.__vccOpts||s;for(const[s,t]of a)l[s]=t;return l}},9662:(s,a,l)=>{l.r(a),l.d(a,{comp:()=>e,data:()=>i});var t=l(7847);const n=[(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"之前介绍的方法都是 value-based 的方法，从这章开始时基于 policy-based 的方法。"),(0,t.Lk)("li",null,"policy function approximation 是直接建立一个基于策略的目标函数来进行梯度上升的优化。")],-1),(0,t.Lk)("h2",{id:"_1-基本思路",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_1-基本思路"},[(0,t.Lk)("span",null,"1. 基本思路")])],-1),(0,t.Lk)("p",null,[(0,t.eW)("将基于"),(0,t.Lk)("strong",null,"表格"),(0,t.eW)("表示的策略 转换为 基于"),(0,t.Lk)("strong",null,"函数"),(0,t.eW)("表示的策略。"),(0,t.Lk)("br"),(0,t.eW)(" 即此时策略 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.eW)(" 可以描述为：")],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\pi(a|s,\\theta) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("其中，"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",{mathvariant:"double-struck"},"R"),(0,t.Lk)("mi",null,"m")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\theta\\in \\mathbb{R}^m")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7335em","vertical-align":"-0.0391em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"∈"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6889em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathbb"},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6644em"}},[(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"m")])])])])])])])])])]),(0,t.eW)("表示参数向量，是我们需要进行优化的。")],-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"当策略是以表格的形式保存时，我们定义最优的策略为 在该策略下的所有 state value 都是最大的。"),(0,t.Lk)("li",null,"当策略是以函数的形式存在时，我们定义 最优的策略 为 可以最大化一个确定的常数指标(certain scalar metrics).")],-1),(0,t.Lk)("p",null,"Policy gradient 的基本步骤：",-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.eW)("确定 metrics/objective function，来定义最优的策略："),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"J(\\theta)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])])])]),(0,t.Lk)("li",null,"进行优化，如梯度上升算法")],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"α"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\theta_{t+1} = \\theta_t+\\alpha \\triangledown_\\theta J(\\theta_t) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9028em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),(0,t.Lk)("h2",{id:"_2-目标函数定义",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-目标函数定义"},[(0,t.Lk)("span",null,"2. 目标函数定义")])],-1),(0,t.Lk)("h3",{id:"_2-1-average-state-value",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-1-average-state-value"},[(0,t.Lk)("span",null,"2.1 average state value")])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"S")])]),(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"T")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\bar{v}_\\pi = \\sum_{s\\in S}d(s)v_\\pi(s) = d^Tv_\\pi ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7178em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.3717em","vertical-align":"-1.3217em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0413em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8913em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.13889em"}},"T")])])])])])])]),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])])])],-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\bar{v}_\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7178em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 显然是 state value 的加权平均。")]),(0,t.Lk)("li",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"≥"),(0,t.Lk)("mn",null,"0")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"d(s)\\ge 0")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≥"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6444em"}}),(0,t.Lk)("span",{class:"mord"},"0")])])]),(0,t.eW)(" 是各个 state 的权重")]),(0,t.Lk)("li",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"S")])]),(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\sum_{s\\in S}d(s)=1")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0771em","vertical-align":"-0.3271em"}}),(0,t.Lk)("span",{class:"mop"},[(0,t.Lk)("span",{class:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1786em"}},[(0,t.Lk)("span",{style:{top:"-2.4003em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3271em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6444em"}}),(0,t.Lk)("span",{class:"mord"},"1")])])]),(0,t.eW)(", 我们可以认为 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"d(s)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(" 是 概率分布，因此该指标可以描述为:")])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",null,"∼"),(0,t.Lk)("mi",null,"d")])]),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\bar{v}_\\pi = \\mathbb{E}_{S \\sim d}[v_\\pi(S)] ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7178em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mrel mtight"},"∼"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"d")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mclose"},")]")])])])])],-1),(0,t.Lk)("h4",{id:"另一种表达",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#另一种表达"},[(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\bar{v}_\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7178em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 另一种表达")])])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("munderover",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mn",null,"0")]),(0,t.Lk)("mi",{mathvariant:"normal"},"∞")]),(0,t.Lk)("msup",null,[(0,t.Lk)("mi",null,"γ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{stretchy:"false"},"]")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," J(\\theta) = \\mathbb{E}[\\sum_{t=0}^\\infty \\gamma^t R_{t+1}] ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.9185em","vertical-align":"-1.2671em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.6514em"}},[(0,t.Lk)("span",{style:{top:"-1.8829em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mrel mtight"},"="),(0,t.Lk)("span",{class:"mord mtight"},"0")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])]),(0,t.Lk)("span",{style:{top:"-4.3em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"∞")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.2671em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05556em"}},"γ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8436em"}},[(0,t.Lk)("span",{style:{top:"-3.113em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])])])])])]),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0077em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])])])])],-1),(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:"http://myimg.ekkosonya.cn/20240826173749.png",alt:"20240826173749",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption",null,"20240826173749")],-1),(0,t.Lk)("h4",{id:"d-s-的选择",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#d-s-的选择"},[(0,t.Lk)("span",null,"d(s)的选择")])],-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.eW)("d 与策略 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.eW)(" 无关"),(0,t.Lk)("br"),(0,t.eW)(" 这种情况我们将 d 表示为 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mn",null,"0")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"d_0")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"0")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(", "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\bar{v}_\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7178em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 表示为 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msubsup",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mn",null,"0")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\bar{v}_\\pi^0")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0611em","vertical-align":"-0.247em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8141em"}},[(0,t.Lk)("span",{style:{top:"-2.453em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])]),(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"0")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.247em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)("."),(0,t.Lk)("br"),(0,t.eW)(" 这种情况下的 d 可以根据对各个状态的重要程度进行选择："),(0,t.Lk)("br"),(0,t.eW)(" 一种是将所有状态视为同等重要，一种则是有所偏向。")])]),(0,t.Lk)("li",null,[(0,t.Lk)("p",null,[(0,t.eW)("d 与策略 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.eW)(" 有关 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"d")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"d")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6944em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"d")])])]),(0,t.eW)(" 表示为 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"d_\\pi(s)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(", 即在策略 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.eW)(" 下的 stationary distribution。")])])],-1),(0,t.Lk)("h3",{id:"_2-2-average-return-value",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-2-average-return-value"},[(0,t.Lk)("span",null,"2.2 average return value")])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",null,"S")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",null,"∼"),(0,t.Lk)("mi",null,"d")])]),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\bar{r}_\\pi = \\sum_{s\\in S}d_\\pi(s)r_\\pi(s) = \\mathbb{E}_{S \\sim d}[r_\\pi(s)] ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7178em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1944em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"2.3717em","vertical-align":"-1.3217em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mrel mtight"},"∼"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"d")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")]")])])])])],-1),(0,t.Lk)("p",null,"其中:",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"≐"),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A")])]),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},"]"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mi",null,"r")]),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"p"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")])])])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\begin{aligned} r_\\pi(s) & \\doteq \\sum_{a\\in \\mathcal{A}}\\pi(a|s)r(s,a) \\\\ r(s,a) & = \\mathbb{E}[R|s,a]=\\sum_r r p(r|s,a) \\end{aligned} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"5.2717em","vertical-align":"-2.3859em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mtable"},[(0,t.Lk)("span",{class:"col-align-r"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.8859em"}},[(0,t.Lk)("span",{style:{top:"-4.8859em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-2.2141em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.3859em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.8859em"}},[(0,t.Lk)("span",{style:{top:"-4.8859em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≐"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight"},"A")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-2.2141em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},"]"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.9em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"r")])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.25em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord mathnormal"},"p"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.3859em"}},[(0,t.Lk)("span")])])])])])])])])])])],-1),(0,t.Lk)("p",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"r_\\pi(s)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)("表示在策略"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.4306em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.eW)("下 状态s时可以得到的平均reward。"),(0,t.Lk)("br"),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"r(s,a)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)("表示在单步情况下(在状态s采用动作a)时的平均reward。")],-1),(0,t.Lk)("h4",{id:"另一种表达-1",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#另一种表达-1"},[(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\bar{r}_\\pi")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.7178em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1944em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 另一种表达")])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("假设 agent 跟随一个 给定的策略 然后生成了一个 trajectory以及对应的 rewards "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"2")])]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mo",null,"…"),(0,t.Lk)("mtext",null," "),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"(R_{t+1},R_{t+2},\\dots)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0077em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0077em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"2")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"minner"},"…"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mclose"},")")])])])],-1),(0,t.Lk)("p",null,"对应 average single-step reward along this trajectory is",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("munder",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"lim"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",null,"→"),(0,t.Lk)("mi",{mathvariant:"normal"},"∞")])]),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"2")])]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mo",null,"⋯"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"n")])]),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mn",null,"0")]),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mo",{lspace:"0em",rspace:"0em"},"=")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("munder",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"lim"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",null,"→"),(0,t.Lk)("mi",{mathvariant:"normal"},"∞")])]),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("munderover",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"k"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"k")])]),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mn",null,"0")]),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mo",{lspace:"0em",rspace:"0em"},"=")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("munder",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"lim"),(0,t.Lk)("mo",null,"⁡")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mo",null,"→"),(0,t.Lk)("mi",{mathvariant:"normal"},"∞")])]),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mn",null,"1"),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("munderover",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"k"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mn",null,"1")]),(0,t.Lk)("mi",null,"n")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"R"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"k")])]),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mo",{lspace:"0em",rspace:"0em"},"=")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mi",null,"s")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mo",{lspace:"0em",rspace:"0em"},"=")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mtext",null," "),(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")])])])])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\begin{aligned} & \\lim_{n \\rightarrow \\infty} \\frac{1}{n} \\mathbb{E}[R_{t+1}+R_{t+2}+\\dots+R_{t+n}|S_t = s_0] \\\\ = & \\lim_{n \\rightarrow \\infty} \\frac{1}{n} \\mathbb{E}[\\sum_{k=1}^nR_{t+k}|S_t = s_0] \\\\ = & \\lim_{n \\rightarrow \\infty} \\frac{1}{n} \\mathbb{E}[\\sum_{k=1}^nR_{t+k}] \\\\ = & \\sum_s d_\\pi(s)r_\\pi(s) \\\\ = & ~ \\bar{r}_\\pi \\end{aligned} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"12.9285em","vertical-align":"-6.2142em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mtable"},[(0,t.Lk)("span",{class:"col-align-r"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"6.7142em"}},[(0,t.Lk)("span",{style:{top:"-9.0442em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"})]),(0,t.Lk)("span",{style:{top:"-6.3928em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mrel"},"=")])]),(0,t.Lk)("span",{style:{top:"-3.1393em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mrel"},"=")])]),(0,t.Lk)("span",{style:{top:"-0.4872em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mrel"},"=")])]),(0,t.Lk)("span",{style:{top:"1.9028em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mrel"},"=")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"6.2142em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"6.7142em"}},[(0,t.Lk)("span",{style:{top:"-9.0442em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-2.4em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mrel mtight"},"→"),(0,t.Lk)("span",{class:"mord mtight"},"∞")])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop"},"lim")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3214em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"n")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.677em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.686em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})]),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0077em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0077em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"2")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"minner"},"⋯"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0077em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0576em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"0")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])]),(0,t.Lk)("span",{style:{top:"-6.3928em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-2.4em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mrel mtight"},"→"),(0,t.Lk)("span",{class:"mord mtight"},"∞")])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop"},"lim")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3214em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"n")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.677em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.686em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})]),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.6514em"}},[(0,t.Lk)("span",{style:{top:"-1.8479em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k"),(0,t.Lk)("span",{class:"mrel mtight"},"="),(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])]),(0,t.Lk)("span",{style:{top:"-4.3em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3021em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0077em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0576em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"0")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])]),(0,t.Lk)("span",{style:{top:"-3.1393em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.6944em"}},[(0,t.Lk)("span",{style:{top:"-2.4em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n"),(0,t.Lk)("span",{class:"mrel mtight"},"→"),(0,t.Lk)("span",{class:"mord mtight"},"∞")])])]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop"},"lim")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.7em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3214em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"n")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.677em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},"1")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.686em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})]),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.6514em"}},[(0,t.Lk)("span",{style:{top:"-1.8479em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k"),(0,t.Lk)("span",{class:"mrel mtight"},"="),(0,t.Lk)("span",{class:"mord mtight"},"1")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])]),(0,t.Lk)("span",{style:{top:"-4.3em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"n")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3021em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0077em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03148em"}},"k")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},"]")])]),(0,t.Lk)("span",{style:{top:"-0.4872em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.9em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s")])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.25em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"1.9028em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.6514em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace nobreak"}," "),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1944em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"6.2142em"}},[(0,t.Lk)("span")])])])])])])])])])])],-1),(0,t.Lk)("h2",{id:"_3-目标函数梯度求解",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_3-目标函数梯度求解"},[(0,t.Lk)("span",null,"3. 目标函数梯度求解")])],-1),(0,t.Lk)("p",null,"这里在视频没有详细介绍，只给出了梯度的公式：",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"S")])]),(0,t.Lk)("mi",null,"η"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A")])]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\begin{aligned} \\triangledown_\\theta J(\\theta) & =\\sum_{s\\in \\mathcal{S}}\\eta(s) \\sum_{a\\in\\mathcal{A}}\\triangledown_{\\theta}\\pi(a|s,\\theta)q_\\pi(s,a) \\\\ &= \\textcolor{red}{\\mathbb{E}[\\triangledown_\\theta ln\\pi(A|S,\\theta)q_\\pi(S,A)]} \\end{aligned} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"4.1717em","vertical-align":"-1.8359em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mtable"},[(0,t.Lk)("span",{class:"col-align-r"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.3359em"}},[(0,t.Lk)("span",{style:{top:"-4.3359em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-1.8741em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"mord"})])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.8359em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"2.3359em"}},[(0,t.Lk)("span",{style:{top:"-4.3359em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight",style:{"margin-right":"0.075em"}},"S")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"η"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight"},"A")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-1.8741em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord mathbb",style:{color:"red"}},"E"),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"["),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord amsrm",style:{color:"red"}},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em",color:"red"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em",color:"red"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"nπ"),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"A"),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"red"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em",color:"red"}},"θ"),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em",color:"red"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"red"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"A"),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")]")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.8359em"}},[(0,t.Lk)("span")])])])])])])])])])])],-1),(0,t.Lk)("p",null,"其中",-1),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"J(\\theta)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(" 可以是 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mtext",null," "),(0,t.Lk)("msub",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"r"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mtext",null," "),(0,t.Lk)("msubsup",null,[(0,t.Lk)("mover",{accent:"true"},[(0,t.Lk)("mi",null,"v"),(0,t.Lk)("mo",null,"ˉ")]),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mn",null,"0")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\bar{v}_\\pi, \\space \\bar{r}_\\pi, \\space \\bar{v}_\\pi^0")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1.0611em","vertical-align":"-0.247em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace"}," "),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.1944em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace"}," "),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord accent"},[(0,t.Lk)("span",{class:"vlist-t"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.5678em"}},[(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")]),(0,t.Lk)("span",{style:{top:"-3em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"accent-body",style:{left:"-0.2222em"}},[(0,t.Lk)("span",{class:"mord"},"ˉ")])])])])])]),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.8141em"}},[(0,t.Lk)("span",{style:{top:"-2.453em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])]),(0,t.Lk)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},"0")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.247em"}},[(0,t.Lk)("span")])])])])])])])]),(0,t.eW)(" 任何一种。")]),(0,t.Lk)("li",null,[(0,t.eW)('"'),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mo",null,"=")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"=")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.3669em"}}),(0,t.Lk)("span",{class:"mrel"},"=")])])]),(0,t.eW)('" 有表示 严格等于 近似 以及 成比例等于')]),(0,t.Lk)("li",null,[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"η")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"\\eta")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"η")])])]),(0,t.eW)(" 表示 state 的权重或者分布")])],-1),(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"具体推导过程"),(0,t.eW)(":")],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("mfrac",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")])])])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"S")])]),(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A")])]),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"S")])]),(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",null,"∈"),(0,t.Lk)("mi",{mathvariant:"script"},"A")])]),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"ln"),(0,t.Lk)("mo",null,"⁡"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",null,"∼"),(0,t.Lk)("mi",null,"d")])]),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("munder",null,[(0,t.Lk)("mo",null,"∑"),(0,t.Lk)("mi",null,"a")]),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"ln"),(0,t.Lk)("mo",null,"⁡"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",null,"∼"),(0,t.Lk)("mi",null,"d"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mtext",null," "),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",null,"∼"),(0,t.Lk)("mi",null,"π")])]),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"ln"),(0,t.Lk)("mo",null,"⁡"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"≐"),(0,t.Lk)("mstyle",{mathcolor:"red"},[(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\begin{aligned} \\triangledown_\\theta ln \\pi(a|s,\\theta) & = \\frac{\\triangledown_\\theta \\pi(a|s,\\theta)}{\\pi(a|s,\\theta)} \\\\\\\\ \\triangledown_\\theta J(\\theta) & =\\sum_{s\\in \\mathcal{S}}d(s) \\sum_{a\\in\\mathcal{A}}\\textcolor{blue}{\\triangledown_{\\theta}\\pi(a|s,\\theta)}q_\\pi(s,a) \\\\ & = \\sum_{s\\in \\mathcal{S}}d(s) \\sum_{a\\in\\mathcal{A}} \\textcolor{blue}{\\pi(a|s,\\theta)\\triangledown_{\\theta}\\ln\\pi(a|s,\\theta)}q_\\pi(s,a) \\\\ & = \\mathbb{E}_{\\textcolor{blue}{S \\sim d}}[\\sum_a \\pi(s|S,\\theta)\\triangledown_{\\theta}\\ln\\pi(a|S,\\theta)q_\\pi(S,a)] \\\\ & = \\mathbb{E}_{\\textcolor{blue}{S \\sim d, ~ A \\sim \\pi}}[\\triangledown_{\\theta}\\ln\\pi(A|S,\\theta)q_\\pi(S,A)] \\\\ & \\doteq \\textcolor{red}{\\mathbb{E}[\\triangledown_\\theta ln\\pi(A|S,\\theta)q_\\pi(S,A)]} \\end{aligned} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"15.1064em","vertical-align":"-7.3032em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mtable"},[(0,t.Lk)("span",{class:"col-align-r"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"7.8032em"}},[(0,t.Lk)("span",{style:{top:"-9.8032em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"nπ"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-7.7272em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"})]),(0,t.Lk)("span",{style:{top:"-6.0172em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-3.3455em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"})]),(0,t.Lk)("span",{style:{top:"-0.6738em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"})]),(0,t.Lk)("span",{style:{top:"1.7162em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"})]),(0,t.Lk)("span",{style:{top:"3.2162em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"})])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"7.3032em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"7.8032em"}},[(0,t.Lk)("span",{style:{top:"-9.8032em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mopen nulldelimiter"}),(0,t.Lk)("span",{class:"mfrac"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.427em"}},[(0,t.Lk)("span",{style:{top:"-2.314em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-3.23em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),(0,t.Lk)("span",{style:{top:"-3.677em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.936em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mclose nulldelimiter"})])])]),(0,t.Lk)("span",{style:{top:"-6.0172em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight",style:{"margin-right":"0.075em"}},"S")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight"},"A")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord amsrm",style:{color:"blue"}},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em",color:"blue"}},"θ")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"π"),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"s"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em",color:"blue"}},"θ"),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-3.3455em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"s"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight",style:{"margin-right":"0.075em"}},"S")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"d"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.8557em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a"),(0,t.Lk)("span",{class:"mrel mtight"},"∈"),(0,t.Lk)("span",{class:"mord mathcal mtight"},"A")])])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.3217em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"π"),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"s"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em",color:"blue"}},"θ"),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")"),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord amsrm",style:{color:"blue"}},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em",color:"blue"}},"θ")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop",style:{color:"blue"}},[(0,t.Lk)("span",{style:{color:"blue"}},"l"),(0,t.Lk)("span",{style:{color:"blue"}},"n")]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"π"),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"s"),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em",color:"blue"}},"θ"),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-0.6738em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"mrel mtight",style:{color:"blue"}},"∼"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"d")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mop op-limits"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.05em"}},[(0,t.Lk)("span",{style:{top:"-1.9em","margin-left":"0em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"a")])]),(0,t.Lk)("span",{style:{top:"-3.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.05em"}}),(0,t.Lk)("span",null,[(0,t.Lk)("span",{class:"mop op-symbol large-op"},"∑")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.25em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop"},"ln"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")]")])]),(0,t.Lk)("span",{style:{top:"1.7162em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05764em",color:"blue"}},"S"),(0,t.Lk)("span",{class:"mrel mtight",style:{color:"blue"}},"∼"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"d"),(0,t.Lk)("span",{class:"mpunct mtight",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace nobreak mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mtight",style:{color:"blue"}}," ")]),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"A"),(0,t.Lk)("span",{class:"mrel mtight",style:{color:"blue"}},"∼"),(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em",color:"blue"}},"π")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2861em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop"},"ln"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"A"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"A"),(0,t.Lk)("span",{class:"mclose"},")]")])]),(0,t.Lk)("span",{style:{top:"3.2162em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3.427em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≐"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord mathbb",style:{color:"red"}},"E"),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"["),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord amsrm",style:{color:"red"}},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em",color:"red"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em",color:"red"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"nπ"),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"A"),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"red"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em",color:"red"}},"θ"),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")"),(0,t.Lk)("span",{class:"mord",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"red"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"red"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em",color:"red"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"red"}},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em",color:"red"}},"S"),(0,t.Lk)("span",{class:"mpunct",style:{color:"red"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"red"}},"A"),(0,t.Lk)("span",{class:"mclose",style:{color:"red"}},")]")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"7.3032em"}},[(0,t.Lk)("span")])])])])])])])])])])],-1),(0,t.Lk)("p",null,"根据这个式子我们就可以通过 SGD 方法，从而可以进行近似求解：",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"≈"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\triangledown_\\theta J(\\theta) \\approx \\triangledown_\\theta ln\\pi(a|s,\\theta)q_\\pi(s,a) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≈"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"nπ"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"一些特性"),(0,t.eW)(" 这里的策略是"),(0,t.Lk)("strong",null,"随机性"),(0,t.eW)(" 的，因为我们需要计算的是 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"ln\\pi(a|s,\\theta)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"nπ"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(", 因此我们需要保证对于所有的 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"s,a,\\theta")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ")])])])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",null,"≥"),(0,t.Lk)("mn",null,"0")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\pi(a|s,\\theta) \\ge 0 ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"≥"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.6444em"}}),(0,t.Lk)("span",{class:"mord"},"0")])])])])],-1),(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:"http://myimg.ekkosonya.cn/20240826180244.png",alt:"20240826180244",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption",null,"20240826180244")],-1),(0,t.Lk)("h2",{id:"_4-reinforce-梯度上升算法",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_4-reinforce-梯度上升算法"},[(0,t.Lk)("span",null,"4. REINFORCE 梯度上升算法")])],-1),(0,t.Lk)("p",null,[(0,t.eW)("梯度上升算法的本质就是最大化目标函数 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"J(\\theta)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])])])],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])])])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"α"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"J"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mo",{stretchy:"false"},")")])])])]),(0,t.Lk)("mtr",null,[(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow")])]),(0,t.Lk)("mtd",null,[(0,t.Lk)("mstyle",{scriptlevel:"0",displaystyle:"true"},[(0,t.Lk)("mrow",null,[(0,t.Lk)("mrow"),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"α"),(0,t.Lk)("mi",{mathvariant:"double-struck"},"E"),(0,t.Lk)("mo",{stretchy:"false"},"["),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"S"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"A"),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mo",{stretchy:"false"},"]")])])])])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\begin{aligned} \\theta_{t+1} & = \\theta_t + \\alpha \\triangledown_\\theta J(\\theta) \\\\ & = \\theta_t + \\alpha\\mathbb{E}[\\triangledown_\\theta ln\\pi(A|S,\\theta_t)q_\\pi(S,A)] \\end{aligned} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"3em","vertical-align":"-1.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mtable"},[(0,t.Lk)("span",{class:"col-align-r"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.75em"}},[(0,t.Lk)("span",{style:{top:"-3.91em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])])])]),(0,t.Lk)("span",{style:{top:"-2.41em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"})])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.25em"}},[(0,t.Lk)("span")])])])]),(0,t.Lk)("span",{class:"col-align-l"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.75em"}},[(0,t.Lk)("span",{style:{top:"-3.91em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"mclose"},")")])]),(0,t.Lk)("span",{style:{top:"-2.41em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"3em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord"}),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"mord mathbb"},"E"),(0,t.Lk)("span",{class:"mopen"},"["),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"nπ"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"A"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"A"),(0,t.Lk)("span",{class:"mclose"},")]")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"1.25em"}},[(0,t.Lk)("span")])])])])])])])])])])],-1),(0,t.Lk)("p",null,"而对应的真实梯度可以用一个估计的梯度来替代:",-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"α"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"ln"),(0,t.Lk)("mo",null,"⁡"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\theta_{t+1} = \\theta_t + \\alpha \\triangledown_\\theta \\ln\\pi(a_t|s_t,\\theta_t)q_\\pi(s,a) ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9028em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mop"},"ln"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"π"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("但还存在 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"q_\\pi(s,a)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(" 是未知的，我们也可以进行近似：")],-1),(0,t.Lk)("p",{class:"katex-block"},[(0,t.Lk)("span",{class:"katex-display"},[(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mrow",null,[(0,t.Lk)("mi",null,"t"),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mn",null,"1")])]),(0,t.Lk)("mo",null,"="),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",null,"+"),(0,t.Lk)("mi",null,"α"),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",{mathvariant:"normal"},"▽"),(0,t.Lk)("mi",null,"θ")]),(0,t.Lk)("mi",null,"l"),(0,t.Lk)("mi",null,"n"),(0,t.Lk)("mi",null,"π"),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",{mathvariant:"normal"},"∣"),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"θ"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")"),(0,t.Lk)("mstyle",{mathcolor:"blue"},[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mi",null,"t")]),(0,t.Lk)("mo",{stretchy:"false"},")")])]),(0,t.Lk)("annotation",{encoding:"application/x-tex"}," \\theta_{t+1} = \\theta_t + \\alpha \\triangledown_\\theta ln\\pi(a|s,\\theta_t) \\textcolor{blue}{q_t(s_t,a_t)} ")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.9028em","vertical-align":"-0.2083em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3011em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t"),(0,t.Lk)("span",{class:"mbin mtight"},"+"),(0,t.Lk)("span",{class:"mord mtight"},"1")])])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2083em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t.Lk)("span",{class:"mrel"},"="),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),(0,t.Lk)("span",{class:"mbin"},"+"),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α"),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord amsrm"},"▽"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.3361em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"θ")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"nπ"),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mord"},"∣"),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"θ"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0278em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight"},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose"},")"),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em",color:"blue"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen",style:{color:"blue"}},"("),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"s"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mpunct",style:{color:"blue"}},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal",style:{color:"blue"}},"a"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.2806em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight",style:{color:"blue"}},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{color:"blue"}},"t")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mclose",style:{color:"blue"}},")")])])])])],-1),(0,t.Lk)("p",null,[(0,t.eW)("这里可以用不同的方法来近似 "),(0,t.Lk)("span",{class:"katex"},[(0,t.Lk)("span",{class:"katex-mathml"},[(0,t.Lk)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t.Lk)("semantics",null,[(0,t.Lk)("mrow",null,[(0,t.Lk)("msub",null,[(0,t.Lk)("mi",null,"q"),(0,t.Lk)("mi",null,"π")]),(0,t.Lk)("mo",{stretchy:"false"},"("),(0,t.Lk)("mi",null,"s"),(0,t.Lk)("mo",{separator:"true"},","),(0,t.Lk)("mi",null,"a"),(0,t.Lk)("mo",{stretchy:"false"},")")]),(0,t.Lk)("annotation",{encoding:"application/x-tex"},"q_\\pi(s,a)")])])]),(0,t.Lk)("span",{class:"katex-html","aria-hidden":"true"},[(0,t.Lk)("span",{class:"base"},[(0,t.Lk)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t.Lk)("span",{class:"mord"},[(0,t.Lk)("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),(0,t.Lk)("span",{class:"msupsub"},[(0,t.Lk)("span",{class:"vlist-t vlist-t2"},[(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.1514em"}},[(0,t.Lk)("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[(0,t.Lk)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t.Lk)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t.Lk)("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"π")])])]),(0,t.Lk)("span",{class:"vlist-s"},"​")]),(0,t.Lk)("span",{class:"vlist-r"},[(0,t.Lk)("span",{class:"vlist",style:{height:"0.15em"}},[(0,t.Lk)("span")])])])])]),(0,t.Lk)("span",{class:"mopen"},"("),(0,t.Lk)("span",{class:"mord mathnormal"},"s"),(0,t.Lk)("span",{class:"mpunct"},","),(0,t.Lk)("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),(0,t.Lk)("span",{class:"mord mathnormal"},"a"),(0,t.Lk)("span",{class:"mclose"},")")])])]),(0,t.eW)(".")],-1),(0,t.Fv)('<ul><li>Monte-Carlo based method， 我们便称为 REINFORCE</li><li>也可以采用基于 TD 的算法 或者 其他的算法。</li></ul><p><strong>一些细节</strong></p><figure><img src="http://myimg.ekkosonya.cn/20240826181340.png" alt="20240826181340" tabindex="0" loading="lazy"><figcaption>20240826181340</figcaption></figure><figure><img src="http://myimg.ekkosonya.cn/20240826181538.png" alt="20240826181538" tabindex="0" loading="lazy"><figcaption>20240826181538</figcaption></figure><figure><img src="http://myimg.ekkosonya.cn/20240826181638.png" alt="20240826181638" tabindex="0" loading="lazy"><figcaption>20240826181638</figcaption></figure><h3 id="reinforce-算法" tabindex="-1"><a class="header-anchor" href="#reinforce-算法"><span>REINFORCE 算法</span></a></h3><figure><img src="http://myimg.ekkosonya.cn/20240826181712.png" alt="20240826181712" tabindex="0" loading="lazy"><figcaption>20240826181712</figcaption></figure>',7)],m={},e=(0,l(3671).A)(m,[["render",function(s,a){return(0,t.uX)(),(0,t.CE)("div",null,n)}]]),i=JSON.parse('{"path":"/academic/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/chapter%209.html","title":"RL9 - 策略梯度法(Policy gradient)","lang":"zh-CN","frontmatter":{"title":"RL9 - 策略梯度法(Policy gradient)","date":"2024-08-26T00:00:00.000Z","category":["academic"],"tag":["强化学习"],"order":-0.5,"description":" 之前介绍的方法都是 value-based 的方法，从这章开始时基于 policy-based 的方法。 policy function approximation 是直接建立一个基于策略的目标函数来进行梯度上升的优化。 1. 基本思路 将基于表格表示的策略 转换为 基于函数表示的策略。 即此时策略 π 可以描述为： π(a∣s,θ) 其中，θ∈Rm...","head":[["meta",{"property":"og:url","content":"http://ekkosonya.cn/academic/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/chapter%209.html"}],["meta",{"property":"og:site_name","content":"EkkoSonya\'s Blog"}],["meta",{"property":"og:title","content":"RL9 - 策略梯度法(Policy gradient)"}],["meta",{"property":"og:description","content":" 之前介绍的方法都是 value-based 的方法，从这章开始时基于 policy-based 的方法。 policy function approximation 是直接建立一个基于策略的目标函数来进行梯度上升的优化。 1. 基本思路 将基于表格表示的策略 转换为 基于函数表示的策略。 即此时策略 π 可以描述为： π(a∣s,θ) 其中，θ∈Rm..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"http://myimg.ekkosonya.cn/20240826173749.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-26T10:37:33.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"RL9 - 策略梯度法(Policy gradient)"}],["meta",{"property":"article:author","content":"EkkoSonya"}],["meta",{"property":"article:tag","content":"强化学习"}],["meta",{"property":"article:published_time","content":"2024-08-26T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-26T10:37:33.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"RL9 - 策略梯度法(Policy gradient)\\",\\"image\\":[\\"http://myimg.ekkosonya.cn/20240826173749.png\\",\\"http://myimg.ekkosonya.cn/20240826180244.png\\",\\"http://myimg.ekkosonya.cn/20240826181340.png\\",\\"http://myimg.ekkosonya.cn/20240826181538.png\\",\\"http://myimg.ekkosonya.cn/20240826181638.png\\",\\"http://myimg.ekkosonya.cn/20240826181712.png\\"],\\"datePublished\\":\\"2024-08-26T00:00:00.000Z\\",\\"dateModified\\":\\"2024-08-26T10:37:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"EkkoSonya\\",\\"url\\":\\"http://ekkosonya.cn\\"}]}"]]},"headers":[{"level":2,"title":"1. 基本思路","slug":"_1-基本思路","link":"#_1-基本思路","children":[]},{"level":2,"title":"2. 目标函数定义","slug":"_2-目标函数定义","link":"#_2-目标函数定义","children":[{"level":3,"title":"2.1 average state value","slug":"_2-1-average-state-value","link":"#_2-1-average-state-value","children":[{"level":4,"title":"另一种表达","slug":"另一种表达","link":"#另一种表达","children":[]},{"level":4,"title":"d(s)的选择","slug":"d-s-的选择","link":"#d-s-的选择","children":[]}]},{"level":3,"title":"2.2 average return value","slug":"_2-2-average-return-value","link":"#_2-2-average-return-value","children":[{"level":4,"title":"另一种表达","slug":"另一种表达-1","link":"#另一种表达-1","children":[]}]}]},{"level":2,"title":"3. 目标函数梯度求解","slug":"_3-目标函数梯度求解","link":"#_3-目标函数梯度求解","children":[]},{"level":2,"title":"4. REINFORCE 梯度上升算法","slug":"_4-reinforce-梯度上升算法","link":"#_4-reinforce-梯度上升算法","children":[{"level":3,"title":"REINFORCE 算法","slug":"reinforce-算法","link":"#reinforce-算法","children":[]}]}],"git":{"createdTime":1724668653000,"updatedTime":1724668653000,"contributors":[{"name":"EkkoSonya","email":"ekkosonya@163.com","commits":1}]},"readingTime":{"minutes":4.28,"words":1285},"filePathRelative":"academic/强化学习/chapter 9.md","localizedDate":"2024年8月26日","excerpt":"<ul>\\n<li>之前介绍的方法都是 value-based 的方法，从这章开始时基于 policy-based 的方法。</li>\\n<li>policy function approximation 是直接建立一个基于策略的目标函数来进行梯度上升的优化。</li>\\n</ul>\\n<h2>1. 基本思路</h2>\\n<p>将基于<strong>表格</strong>表示的策略 转换为 基于<strong>函数</strong>表示的策略。<br>\\n即此时策略 <span v-pre=\\"\\" class=\\"katex\\"><span class=\\"katex-mathml\\"><math xmlns=\\"http://www.w3.org/1998/Math/MathML\\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\\"application/x-tex\\">\\\\pi</annotation></semantics></math></span><span class=\\"katex-html\\" aria-hidden=\\"true\\"><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:0.4306em;\\"></span><span class=\\"mord mathnormal\\" style=\\"margin-right:0.03588em;\\">π</span></span></span></span> 可以描述为：</p>","autoDesc":true}')}}]);